{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/2018-04-16-react-helmetで構造化データを埋め込む/","result":{"data":{"markdownRemark":{"excerpt":"概要 セマンティック・ウェブの一つに、構造化データというものがあります。構造化データを記載することで、データの「意味」を、クローラー等に分かりやすく伝えることができます。 場合によってはSEO対策にもなります。例えば、Google…","html":"<h2>概要</h2>\n<p><a href=\"https://ja.wikipedia.org/wiki/%E3%82%BB%E3%83%9E%E3%83%B3%E3%83%86%E3%82%A3%E3%83%83%E3%82%AF%E3%83%BB%E3%82%A6%E3%82%A7%E3%83%96\">セマンティック・ウェブ</a>の一つに、構造化データというものがあります。構造化データを記載することで、データの「意味」を、クローラー等に分かりやすく伝えることができます。</p>\n<p>場合によってはSEO対策にもなります。例えば、Googleで検索した時に下記のような「リッチスニペット」と呼ばれるものが出てくることがありますが、これはJSON-LDの構造化データを使用しています。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 500px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c5b800a131a77b1cc1471c7f0ee73c9/af83c/20180416.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 127.53623188405798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC5UlEQVQ4y6VU21LbQAzN9/FbbV/5hDL0kQ9gpn3LW/tQBoZAIYSUJE583/V677t20mOvSyEwvUw1HluWdVbSkeTR7j9ktP0pbdtu/yRPXeDfgb33TdNACfeXEV41dmA8NpvN2dnZ5eXleDyGvuddVZVSCoptdlJZ65Qx5he4rmtgkiSBH4LvRYAFflCo3S0fNvfLb4vFqrMHsBAC+H9la6j51ZJ+X/Dr4Kd64P9Rf3wNVA81M8amndwtl0uUned5HMdRFJ2fn89ms9VqBQuU+Xy+WCyg4xM4wxGjwGcPnsIax0mapuBvvV6XZYk7MKwXQggOur6+Rmsopd2QBLajaKW1rYgsC07KWisbUm0aH9gOd0wEYmqjnXND5KIoonXEmSoyJoWiJWdUlQWJIiQQIwtCEIl65/uaB46GmqPVOklSIfh6s86ylLFKScuojJZ0s6KS65rpupKUiE6vlBAmkNeBSUlQnvet0b6iqkhrJQ0ua5wSRnKju6GyxjgUsT+e4Pbq6opVPN2waEHSmOVZTQqeJUhClnm9iej3WQqFEoXrWdqsEvez1cM8FbVpOmmd88414AUvmGatnRTGO+heKfcMjAZMJhNEpqVAhhUVIBQxUTbwguun2e6nnXeSebflNcrzzjZ/O9t4YOMwJ+i2lFJIwTlPekFThqsXa63uBf64D2xjero2eg8wkELKFK3L871QIBwOCIgtBH4AI8jp6SkIxwAqiX4SbezWmiaOmyzbounalCUxtlvbu7u7k5OTsMKjsP1HR+8PDw9vb6dFsphPJ3nN/e2N//jJj8ft5FLR+ubiPCku4Pnu7ZuDgwMcMfwAG99mKalrjnfvt852vUDDLHrjW1CtDWrqZgoOXz5/PT7+AILDYsC74cyFVcX0kVL2TbZpREUl26atKy2F7Y9uOfOBwfAz2IE/UIZtCauDVYeCWFid7onEOsNgcc4GtodWQcNioRP9eduX/+9HI44wvQTnHxb51dK595YDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"リッチスニペットの例\"\n        title=\"リッチスニペットの例\"\n        src=\"/static/2c5b800a131a77b1cc1471c7f0ee73c9/d19c0/20180416.png\"\n        srcset=\"/static/2c5b800a131a77b1cc1471c7f0ee73c9/6b181/20180416.png 125w,\n/static/2c5b800a131a77b1cc1471c7f0ee73c9/5039d/20180416.png 250w,\n/static/2c5b800a131a77b1cc1471c7f0ee73c9/d19c0/20180416.png 500w,\n/static/2c5b800a131a77b1cc1471c7f0ee73c9/af83c/20180416.png 552w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>方法</h2>\n<p>構造化データにもいくつか種類がありますが、今回はJSON-LDに対応してみました。</p>\n<p>手法としては、<a href=\"https://github.com/nfl/react-helmet\">React Helmet</a>で動的にこれらのデータを埋め込んでみました。\nReact Helmetは、Headタグ内のデータを動的に生成してくれる便利なReactコンポーネントです。</p>\n<p>今回は各ページにHelmetを設置し、それぞれ適切な情報を出力しています。\n（まったく動的になっていないので、改善の余地があります）</p>\n<h3>index.jsx</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&lt;</span>Helmet\n  script<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      type<span class=\"token operator\">:</span> <span class=\"token string\">'application/ld+json'</span><span class=\"token punctuation\">,</span>\n      innerHTML<span class=\"token operator\">:</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'@context'</span><span class=\"token operator\">:</span> <span class=\"token string\">'http://schema.org'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'@type'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'Corporation'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'name'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Yuuniworks'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'url'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'http://www.yuuniworks.com/'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'logo'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'https://www.yuuniworks.com/images/logo_for_schema.png'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'address'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'postalCode'</span><span class=\"token operator\">:</span> <span class=\"token string\">'697-0000'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'addressCountry'</span><span class=\"token operator\">:</span> <span class=\"token string\">'JP'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'addressRegion'</span><span class=\"token operator\">:</span> <span class=\"token string\">'島根県'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'addressLocality'</span><span class=\"token operator\">:</span> <span class=\"token string\">'松江市'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">'streetAddress'</span><span class=\"token operator\">:</span> <span class=\"token string\">'殿町1番地'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"contactPoint\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> <span class=\"token string\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ContactPoint\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"telephone\"</span><span class=\"token operator\">:</span> <span class=\"token string\">'+81-90-1234-5678'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"contactType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sales\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'founder'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'@type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Person'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'givenName'</span><span class=\"token operator\">:</span> <span class=\"token string\">'太郎'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">'familyName'</span><span class=\"token operator\">:</span> <span class=\"token string\">'山田'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'foundingDate'</span><span class=\"token operator\">:</span> <span class=\"token string\">'2018-4-11'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"島根県浜田市を拠点に、主にフロントエンド開発のお手伝いをしているフリーランスエンジニアです。\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"sameAs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token string\">'https://www.facebook.com/yuuniworks/'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h3>出力結果(headタグ内)</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/ld+json<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-react-helmet</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  {\n    \"@context\": \"http://schema.org\",\n    \"@type\": \"BlogPosting\",\n    \"mainEntityOfPage\": {\n      \"@type\": \"WebPage\",\n      \"@id\": \"http://www.yuuniworks.com/blog/2018-04-09-JAMStackなWebサイトの作成/\"\n    },\n    \"headline\": \"JAM StackなWebサイトの作成\",\n    \"image\": [\n      \"https://www.yuuniworks.com/blogImages/20180409.png\"\n    ],\n    \"datePublished\": \"2018-04-09T15:00:00+09:00\",\n    \"dateModified\": \"2018-04-16T17:00:00+09:00\",\n    \"author\": {\n      \"@type\": \"Person\",\n      \"name\": \"Shota Tamura\"\n    },\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": \"Yuuniworks\",\n      \"logo\": {\n        \"@type\": \"ImageObject\",\n        \"url\": \"https://www.yuuniworks.com/images/logo_for_schema.png\"\n      }\n    },\n    \"description\": \"JS+API+Markupで構成されるサーバレスな枠組みで、自社のWebサイトを構築してみました。\"\n  }\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://search.google.com/structured-data/testing-tool/\">構造化データテストツール by Google</a></li>\n<li><a href=\"http://schema.org/docs/full.html\">Schema.org</a></li>\n<li><a href=\"https://developers.google.com/search/docs/guides/intro-structured-data\">Introduction to Structured Data</a></li>\n</ul>","fields":{"slug":"/2018-04-16-react-helmetで構造化データを埋め込む/"},"frontmatter":{"title":"react-helmetでJSON-LDを埋め込む","summary":"構造化データ（JSON-LD）を埋め込む方法はいくつかありますが、今回はreact-helmetを使って実装してみました。","date":"2018-04-16T17:52:16+09:00","dateModified":"2018-04-16T17:52:16+09:00","thumbnail":"/blogImages/20180416.png"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018-04-16-react-helmetで構造化データを埋め込む/","modifiedDate":"2018-04-16T17:52:16+09:00"}}}
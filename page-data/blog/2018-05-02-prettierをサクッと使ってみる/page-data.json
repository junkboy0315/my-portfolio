{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/2018-05-02-prettierをサクッと使ってみる/","result":{"data":{"markdownRemark":{"excerpt":"絶賛シェア拡大中の人気コードフォーマッター「Prettier」に乗り換えてみました。 設定 下記の設定でできるようになること エディタ上で、Prettier…","html":"<p>絶賛シェア拡大中の人気コードフォーマッター「Prettier」に乗り換えてみました。</p>\n<h2>設定</h2>\n<h3>下記の設定でできるようになること</h3>\n<ul>\n<li>エディタ上で、Prettierのルールに沿っていないコード部分に警告を表示</li>\n<li>エディタ上で、必要に応じてコードを自動成形</li>\n<li><code class=\"language-text\">yarn prettier</code> コマンドで、特定フォルダ内の特定拡張子を持つファイルを一発で整形</li>\n</ul>\n<h3>手順</h3>\n<ol>\n<li>\n<p>関連パッケージをインストール</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add prettier eslint-config-prettier eslint-plugin-prettier</code></pre></div>\n</li>\n<li>\n<p>設定ファイルをルートフォルダに作成</p>\n<p>.eslintrc.yml （例）</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span> prettier\n<span class=\"token key atrule\">parser</span><span class=\"token punctuation\">:</span> babel<span class=\"token punctuation\">-</span>eslint\n<span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">prettier/prettier</span><span class=\"token punctuation\">:</span> error\n<span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> prettier</code></pre></div>\n<p>.prettierrc.yml （例）</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">trailingComma</span><span class=\"token punctuation\">:</span> all\n<span class=\"token key atrule\">singleQuote</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n</li>\n<li>\n<p>お好みでnpm scriptを作成します。下記の例では、<code class=\"language-text\">yarn prettier</code>を実行したときに、srcフォルダ内の<code class=\"language-text\">(js|jsx|ts|tsx|css)</code>の拡張子を持つファイルを整形し、上書きします。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;scripts&quot;: {\n  &quot;prettier&quot;: &quot;prettier --write \\&quot;src/**/*.{js,jsx,ts,tsx,css}\\&quot;&quot;\n},</code></pre></div>\n</li>\n<li>お好みでエディタの機能拡張をインストールします。私はVSCodeを使っているので、<a href=\"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode\">VSCode用の拡張機能</a>をインストールしました。<code class=\"language-text\">Ctrl + Shift + P</code>を押した後、<code class=\"language-text\">Format Document</code>(全体を成形)か<code class=\"language-text\">Format Code</code>（選択範囲を成形）を選べばエディタ上で整形が行われます。</li>\n</ol>\n<h2>所感</h2>\n<p>Prettierはセットアップが簡単なので、特にこだわりがなければプロジェクトの最初から組み込んでおくのがよいと思います。</p>\n<p>私は、Prettierに加え、<a href=\"https://github.com/airbnb/javascript\">Airbnb Style Guide</a>を組み合わせて使うことにしました。一部の設定がAirbnbとPrettierでバッティングするので、下記のように<code class=\"language-text\">.eslint.yml</code>のルールで調整しています。</p>\n<p>.eslintrc.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">extends</span><span class=\"token punctuation\">:</span> airbnb\n<span class=\"token key atrule\">parser</span><span class=\"token punctuation\">:</span> babel<span class=\"token punctuation\">-</span>eslint\n<span class=\"token key atrule\">rules</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">arrow-parens</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token key atrule\">function-paren-newline</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token key atrule\">linebreak-style</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token key atrule\">object-curly-newline</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token key atrule\">prettier/prettier</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n\n<span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> prettier</code></pre></div>\n<h2>参考</h2>\n<ul>\n<li><a href=\"https://prettier.io/docs/en/install.html\">(Prettier) Install</a></li>\n<li><a href=\"https://prettier.io/docs/en/eslint.html\">(Prettier) Integrating with ESLint</a></li>\n<li><a href=\"https://prettier.io/docs/en/options.html\">(Prettier) Config Options</a></li>\n</ul>","fields":{"slug":"/2018-05-02-prettierをサクッと使ってみる/"},"frontmatter":{"title":"Prettierをサクッと使ってみる","summary":"絶賛シェア拡大中の人気コードフォーマッター「Prettier」に乗り換えてみました。","date":"2018-05-02T15:31:50+09:00","dateModified":"2018-05-02T15:31:50+09:00","thumbnail":"/blogImages/20180502.png"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018-05-02-prettierをサクッと使ってみる/","modifiedDate":"2018-05-02T15:31:50+09:00"}}}